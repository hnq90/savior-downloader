!function(e){function t(t){for(var o,r,a=t[0],_=t[1],l=t[2],u=0,p=[];u<a.length;u++)r=a[u],i[r]&&p.push(i[r][0]),i[r]=0;for(o in _)Object.prototype.hasOwnProperty.call(_,o)&&(e[o]=_[o]);for(c&&c(t);p.length;)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,a=1;a<n.length;a++){var _=n[a];0!==i[_]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={2:0},s=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./";var a=window.webpackJsonp=window.webpackJsonp||[],_=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=_;s.push([60,0]),n()}({116:function(e,t){},60:function(e,t,n){"use strict";n.r(t);n(116);var o=n(0),i=n(3),s=n(1),r=n(2),a=n(7),_=n.n(a),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),chrome.storage?this._options=r.a:this._options={preferred_quality_level:"High",show_3gp_ext:!1,one_click:!0,get:function(e){return this[e]},load:function(){return{then:function(e){e()}}},set:function(e,t){console.log("set",e,"to",t)}},this._options.load().then(function(){return t._init()})}return l(e,[{key:"_init",value:function(){this._optionsNode=o.Utils.query("#options"),this._drawOptionsPage(),this._setupEvenListeners(),s.a.log("PageShown",s.a.PAGE_OPTIONS)}},{key:"_drawOptionsPage",value:function(){var e=this._options.get("preferred_quality_level"),t=this._options.get("min_stream_size"),n={onPageButtonsEnabled:this._options.get("on_page_buttons"),detachButtonEnabled:this._options.get("detach_enabled"),isOneClickEnabled:this._options.get("one_click"),preferLastQuality:this._options.get("prefer_last_quality"),minStreamSize:t,minStreamSizeValue:o.Utils.beautifyFileSize(t),qLevels:i.a.QUALITY_LEVELS.map(function(t){return{i18n_ql_title:Object(o.i18n)("ql_"+t.toLowerCase()),qLevelName:t,isChecked:t===e}}),show3gpExt:this._options.get("show_3gp_ext"),i18n_options_title:Object(o.i18n)("options_title"),i18n_show_on_page_buttons:Object(o.i18n)("options_show_on_page_buttons"),i18n_show_detach_button:Object(o.i18n)("options_show_detach_button"),i18n_one_click:Object(o.i18n)("options_one_click"),i18n_preferred_quality:Object(o.i18n)("popup_preferred_quality"),i18n_prefer_last_quality:Object(o.i18n)("options_prefer_last_quality"),i18n_min_stream_szie:Object(o.i18n)("options_min_stream_size"),i18n_save_and_close:Object(o.i18n)("options_save_and_close"),i18n_show_3gp:Object(o.i18n)("options_show_3gp")},s=o.Utils.query("#options-template").textContent;this._optionsNode.innerHTML=_.a.render(s,n)}},{key:"_setupEvenListeners",value:function(){var e=this;this._optionsNode.addEventListener("click",function(t){var n=t.target;if(n.classList.contains("close-button"))window.close();else{var o=!!n.checked;switch(n.id){case"on-page-buttons":return e._options.set("on_page_buttons",o),e._drawOptionsPage(),void s.a.log("CheckBoxClicked",s.a.CHECK_BOX_SHOW_ON_PAGE_BUTTONS+o);case"detach-button":return e._options.set("detach_enabled",o),void s.a.log("CheckBoxClicked",s.a.CHECK_BOX_DETACH_ENABLED+o);case"one-click-download":return e._options.set("one_click",o),void s.a.log("CheckBoxClicked",s.a.CHECK_BOX_ENABLE_ONE_CLICK+o);case"prefer-last-quality":return e._options.set("prefer_last_quality",o),void s.a.log("CheckBoxClicked",s.a.CHECK_BOX_PREFER_LAST_QUALITY+o);case"show-3gp-ext":e._options.set("show_3gp_ext",o)}switch(n.getAttribute("name")){case"optionsRadios":e._options.set("preferred_quality_level",n.value),s.a.log("OneClickQualityChanged",i.a.getOneClickQualityIndex(n.value))}}},!1),this._optionsNode.addEventListener("input",function(){var t=o.Utils.query("#min-stream-size"),n=o.Utils.query("#min-stream-size-value"),i=+t.value;e._options.set("min_stream_size",i),n.textContent=o.Utils.beautifyFileSize(i)},!1)}}]),e}();document.addEventListener("DOMContentLoaded",function(){return new c})}});