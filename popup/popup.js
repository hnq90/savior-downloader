webpackJsonp([2],{1:function(e,t,i){"use strict";var o=i(5),a=function(){};a.QL_HIGH="High",a.QL_MEDIUM="Medium",a.QL_LOW="Low",a.QL_VIDEO_ULTRAHD="Ultra HD",a.QL_VIDEO_FULLHD="Full HD",a.QL_VIDEO_HD="HD",a.QL_VIDEO_STANDARD="Standard",a.QL_VIDEO_MEDIUM="Medium",a.QL_VIDEO_SMALL="Small",a.QL_VIDEO_MOBILE="Mobile";var n={};n[a.QL_VIDEO_ULTRAHD]={quality:a.QL_HIGH,qualityIndex:6,size:3072,videoTitle:"Ultra HD",itag:[38,138]},n[a.QL_VIDEO_FULLHD]={quality:a.QL_HIGH,qualityIndex:5,size:1080,videoTitle:"Full HD",audioTitle:"High",itag:[37,46,137],vimeoQuality:"1080p",zingTag:"f1080",dailymotionQuality:"hd1080",clipvnQuality:"5"},n[a.QL_VIDEO_HD]={quality:a.QL_HIGH,qualityIndex:4,size:720,videoTitle:"HD",audioTitle:"High",itag:[22,45,120,136,247],zingTag:["f720","hq","320"],vimeoQuality:"720p",dailymotionQuality:["hd","hd720"],facebookQuality:["hd_src","hd_src_no_ratelimit"],JWQuality:"highquality",clipvnQuality:"4"},n[a.QL_VIDEO_STANDARD]={quality:a.QL_MEDIUM,qualityIndex:3,size:480,videoTitle:"Standard",audioTitle:"Normal",itag:[44,35,135,244],zingTag:["f480"],dailymotionQuality:"hq",vimeoQuality:"480p",facebookQuality:["sd_src","sd_src_no_ratelimit"],JWQuality:"location",clipvnQuality:"3"},n[a.QL_VIDEO_MEDIUM]={quality:a.QL_MEDIUM,qualityIndex:2,size:360,videoTitle:"Medium",audioTitle:"Normal",itag:[18,43,34,134,243],vimeoQuality:"360p",dailymotionQuality:"sd",zingTag:["source","f360","128"],JWQuality:"lowquality",clipvnQuality:"2"},n[a.QL_VIDEO_SMALL]={quality:a.QL_LOW,qualityIndex:1,size:240,videoTitle:"Small",audioTitle:"Low",itag:[36,5,133,242],dailymotionQuality:"ld",vimeoQuality:"270p",zingTag:["f","f240"],clipvnQuality:"1"},n[a.QL_VIDEO_MOBILE]={quality:a.QL_LOW,qualityIndex:0,size:144,videoTitle:"Mobile",audioTitle:"Low",itag:[17,6,160],vimeoQuality:"",clipvnQuality:"0"};var l={};l[a.QL_HIGH]=n[a.QL_VIDEO_ULTRAHD].qualityIndex,l[a.QL_MEDIUM]=n[a.QL_VIDEO_STANDARD].qualityIndex,l[a.QL_LOW]=n[a.QL_VIDEO_SMALL].qualityIndex,a.prototype={constructor:a,DEFAULT_QUALITY_LEVEL:a.QL_HIGH,QUALITY_LEVELS:[a.QL_HIGH,a.QL_MEDIUM,a.QL_LOW],VIDEO_QUALITY_LEVELS:[a.QL_VIDEO_ULTRAHD,a.QL_VIDEO_FULLHD,a.QL_VIDEO_HD,a.QL_VIDEO_STANDARD,a.QL_VIDEO_MEDIUM,a.QL_VIDEO_SMALL,a.QL_VIDEO_MOBILE],DEFAULT_QUALITY_TYPE:a.QL_VIDEO_STANDARD,QUALITY_TYPES:n,getFacebookQuality:function(e){return this._getVideoQuality("facebookQuality",e).videoTitle},getDailymotionQuality:function(e){return this._getVideoQuality("dailymotionQuality",e).videoTitle},getZingVideoQuality:function(e){return this._getVideoQuality("zingTag",e).videoTitle},getZingAudioQuality:function(e){return this._getVideoQuality("zingTag",e).audioTitle},getYoutubeQuality:function(e,t){var i=this._getVideoQuality("itag",+e,t);return i&&i.videoTitle},getVimeoQuality:function(e){return this._getVideoQuality("vimeoQuality",e).videoTitle},getClipvnQuality:function(e){return this._getVideoQuality("clipvnQuality",e).videoTitle},getJWQuality:function(e){return this._getVideoQuality("JWQuality",e).videoTitle},getQualityBySize:function(e){return this._getVideoQuality("size",e).videoTitle},getSizeByQuality:function(e){return(n[e]||{}).size||0},_getVideoQuality:function(e,t,i){for(var o in this.QUALITY_TYPES){var a=this.QUALITY_TYPES[o][e];if(Array.isArray(a)||(a=[a]),-1!==a.indexOf(t))return this.QUALITY_TYPES[o]}return i?null:this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]},_getTypeByQualityType:function(e){for(var t in this.QUALITY_TYPES)if(e===t||e===this.QUALITY_TYPES[t].videoTitle||e===this.QUALITY_TYPES[t].audioTitle)return this.QUALITY_TYPES[t];return this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]},_calculateWeight:function(e,t){var i=o.b[e.get("type")].extensions_weight,a=i.indexOf(e.get("ext")),n=this._getTypeByQualityType(e.get("quality")).qualityIndex;return a/i.length+Math.abs(t-n)/7},getQualityLevelByType:function(e){return Object.keys(this.QUALITY_TYPES).indexOf(this._getTypeByQualityType(e).videoTitle)},getVideoQualityIndex:function(e){return this.VIDEO_QUALITY_LEVELS.concat().reverse().indexOf(e)},getOneClickQualityIndex:function(e){return this.QUALITY_LEVELS.concat().reverse().indexOf(e)},getQualityLevelByQualityType:function(e){return this._getTypeByQualityType(e).quality},chooseBestDownload:function(e,t,i){var o=e.length;if(i)for(var a=0;a<o;++a){var n=e[a];if(n.extQuality()===i)return n}t=t||this.DEFAULT_QUALITY_LEVEL;for(var r=l[t],s=1e3,_=-1,d=0;d<o;++d){var u=e[d],c=this._calculateWeight(u,r);s>c&&(s=c,_=d)}return e[_]}},t.a=new a},101:function(e,t,i){"use strict";function o(){setTimeout(function(){window&&window.close()},500)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),n=i(1),l=i(2),r=i(12),s=i(3),_=i(6),d=i.n(_);i(41);var u=function(){return new Promise(function(e){chrome.tabs.query({windowId:chrome.windows.WINDOW_ID_CURRENT,active:!0},function(t){var i=t&&t[0]&&t[0].id||-1;e(i)})})}(),c=function(){var e=this,t=document.body;this._oneClickDownload=!1,this._dl=new r.a(t),s.a.load().then(function(){return e._init(t)})};c.prototype={constructor:c,_init:function(e){var t=this;this._widget=e,this._oneClickBlock=a.Utils.query("#one-click-block"),this._template=a.Utils.query("#list-template").textContent,this._welcome=a.Utils.query("#welcome"),e.addEventListener("click",function(e){if(!t._onClick(e))return e.stopPropagation(),!0},!1),document.addEventListener("change",this._onSelectChange.bind(this),!1),this._oneClickDownload=!!s.a.get("one_click"),this._drawPopupContent()},_drawPopupContent:function(){a.Utils.query("#downloads").hidden=!1,this._welcome.hidden=!0},_showWelcomeScreen:function(){var e=a.Utils.query("#welcome-template").textContent,t=d.a.render(e,{i18n_welcome_title:i.i(a.i18n)("popup_welcome_title"),i18n_welcome_text:i.i(a.i18n)("popup_welcome_text"),i18n_welcome_button:i.i(a.i18n)("popup_welcome_button")});this._welcome.innerHTML=t},_showOneClickDownloadScreen:function(e){var t=a.Utils.query("#one-click-template").textContent,o=d.a.render(t,{media:e,i18n_starting_download:i.i(a.i18n)("popup_starting_download"),i18n_download_failed:i.i(a.i18n)("popup_download_failed")});this._oneClickBlock.innerHTML=o,a.Utils.query("#downloads").hidden=!0,this._oneClickBlock.hidden=!1,l.a.log("PageShown",l.a.PAGE_ONE_CLICK_DOWNLOAD)},_onClick:function(e){var t=this,i=e.target;switch(i.id){case"close-popup":return void window.close();case"welcome-button":return t._drawPopupContent(),l.a.log("ButtonClicked",l.a.BUTTON_TRY_IT_NOW),void setTimeout(function(){document.body.offsetHeight},0)}switch(i.tagName){case"A":case"SPAN":var a=i;return"SPAN"===i.tagName.toUpperCase()&&(a=i.parentNode),a.classList.contains("j-quality-download")?void t._download(a):!0;case"INPUT":if(!i.classList.contains("j-one-click"))return!0;var n=!!i.checked;return s.a.set("one_click",n),void l.a.log("CheckBoxClicked",l.a.CHECK_BOX_ENABLE_ONE_CLICK+n);case"BUTTON":if(i.matches(".play-now-btn")){var r=parseInt(e.target.dataset.downloadId);chrome.runtime.sendMessage({method:"play",requestType:"downloads",params:r}),l.a.log("PlayNow",l.a.PLAY_NOW_WIDGET_CLICKED),o()}}return!0},_onSelectChange:function(e){var t=e.target;if("SELECT"===t.tagName){if("quality-level-selection"===t.id)s.a.set("preferred_quality_level",t.value),l.a.log("OneClickQualityChanged",n.a.getOneClickQualityIndex(t.value));else{var i=t.value.split("/")[1],o=a.Utils.findParent(t,"j-media-scope");this._dl._applyCurrentValues(o),l.a.log("VideoQualityChanged",n.a.getVideoQualityIndex(i))}return!1}},_render:function(){var e=s.a.get("preferred_quality_level");this._dl.render(this._template,{is_single:this._oneClickDownload,quality_levels:n.a.QUALITY_LEVELS.map(function(t){return{i18n_ql_title:i.i(a.i18n)("ql_"+t.toLowerCase()),name:t,is_checked:t===e}}),i18n_download:i.i(a.i18n)("popup_download"),i18n_wait:i.i(a.i18n)("popup_download_starting"),i18n_one_click:i.i(a.i18n)("popup_one_click"),i18n_preferred_quality:i.i(a.i18n)("popup_preferred_quality"),i18n_no_media_found:i.i(a.i18n)("popup_no_media_found"),i18n_download_failed:i.i(a.i18n)("popup_download_failed"),i18n_sound_only:i.i(a.i18n)("popup_sound_only"),i18n_play_now:i.i(a.i18n)("play_now_play_now"),has_pip:!1},e)},_showDownloadError:function(e){var t=this,i=a.Utils.query("#error-message");i.classList.add("visible"),t._errorTimeout&&clearTimeout(t._errorTimeout),t._errorTimeout=setTimeout(function(){i.classList.remove("visible")},5e3),chrome.extension.getBackgroundPage().console.error('Download has failed. Reason: "%s"',e.message)},_download:function(e){var t=this,i=this._dl.download(e);if(i){a.Utils.queryAll(".j-media-scope",this._widget).length,i.catch(function(e){t._showDownloadError(e)}),l.a.log("Download",l.a.DOWNLOAD_BUTTON);var o=this._dl.getMetricsParams(e,{autoselect:0});l.a.serverLog("Download",o)}},setDownloads:function(e){var t=this;t._dl.setDownloads(e);var i=e.getMediaCount();if(t._oneClickDownload&&1===i){var r=s.a.get("preferred_quality_level"),_=s.a.get("prefer_last_quality")&&s.a.get("preferred_quality:"+r),d=n.a.chooseBestDownload(e.data,r,_);t._showOneClickDownloadScreen(d),e.download(d.id()).then(function(){o()}).catch(function(e){t._render(),a.Utils.query("#downloads").hidden=!1,t._oneClickBlock.hidden=!0,t._showDownloadError(e)}),l.a.log("Download",l.a.DOWNLOAD_AUTO);var u=t._dl.getMetricsParams(d.id(),{autoselect:1});l.a.serverLog("Download",u)}else t._render(),l.a.log("PageShown",0===i?l.a.PAGE_NO_MEDIA_FOUND:l.a.PAGE_DOWNLOADS_LIST)}},window.onload=function(){var e=chrome.extension.getBackgroundPage();window.options=e.options,window.cache=e.cache;var t=new c;u.then(function(i){e.db.getMediaForTab(i).then(function(e){t.setDownloads(e)})})}},12:function(e,t,i){"use strict";function o(e){this._widget=e,this._downloads=null,location.protocol.includes("chrome")&&location.pathname.includes("popup.html")&&this.initPlayNowListener(),r.a.load()}var a=i(0),n=i(18),l=i(2),r=i(3),s=i(1),_=i(6),d=i.n(_),u=!a.Utils.IS_CONTENT_SCRIPT;o.prototype={setDownloads:function(e){this._downloads=e},render:function(e,t,o){t.downloads=this._downloads.group(),u&&(t.is_only=this._downloads.isOneMedia());var l=a.Utils.query("#downloads",this._widget);l.innerHTML=d.a.render(e,t,{media_template:r.a.get("template-media")}),l.classList.add("content");var s=this.applyCurrentValues(o);if(u){var _=a.Utils.query(".downloads-list",this._widget);_.scrollHeight>_.offsetHeight&&(i.i(n.a)(a.Utils.queryAll("h1",this._widget),_),_.addEventListener("scroll",this._getSizeOfVisibleMedia.bind(this),!1),a.Utils.query("#close-popup",this._widget).classList.add("pulled")),this._widget.classList.add("done")}return s},initPlayNowListener:function(){var e=this;chrome.runtime.onMessage.addListener(function(t){if("downloads"===t.requestType&&"widget_progress"===t.method){var i=t.params;if(i.mime&&i.mime.includes("video")&&!i.filename.match(/\.mp3$/)){var o=i.url,n=e._widget.querySelector('a[data-url="'+o+'"]'),l=void 0;if(!n)return;l=a.Utils.nearestParent(n,"li.j-media-scope"),i.exists&&(i.playable||"complete"===i.state)?e._handleProgress(l,i):"interrupted"!==i.state&&i.exists||e._changeWidgetMode(l,"select_media")}}})},_handleProgress:function(e,t){var o=0,n=e.querySelector(".play-now-btn"),r=parseInt(n.dataset.downloadId);if(r&&r===t.id||(n.dataset.downloadId=t.id),e.matches(".progress-mode")||(this._changeWidgetMode(e,"progress"),l.a.log("PlayNow",l.a.PLAY_NOW_SHOWN)),"complete"!==t.state){var s=(t.bytesReceived/t.totalBytes*100).toFixed(0);s<0&&(s=0),o=s+"%"}else o="100%";var _=e.querySelector(".progress-bar .bar");_&&(_.style.width=o);var d=a.Utils.beautifyFileSize(t.totalBytes,!0),u=a.Utils.beautifyFileSize(t.bytesReceived,!0),c=e.querySelector(".progress-box .progress-text");c&&(c.innerText="100%"!==o?u+" "+i.i(a.i18n)("play_now_received_from")+" "+d:d);var h=e.dataset.prevReceived||0,p=t.bytesReceived-h;p<0&&(p=Math.abs(p)),p<0&&(p=0);var y=a.Utils.beautifyFileSize(p,!0),L=e.querySelector(".progress-box .speed-text");L&&(L.innerHTML="100%"!==o?'<span class="green-arrow">&#129095;</span> '+y+"/"+i.i(a.i18n)("play_now_per_second"):""),e.dataset.prevReceived=t.bytesReceived},_changeWidgetMode:function(e,t){e.classList.remove("progress-mode","select-mode"),e.classList.add(t+"-mode")},_checkFileSize:function(e){var t=this,i=this._downloads.getMedia(e);if(i&&!i.get("size")){l.a.log("Download",l.a.DOWNLOAD_REQUEST_SIZE);var o=a.Utils.query("#size_"+i.id(),this._widget);i.getSize().then(function(e){o&&(o.classList.add("done"),o.textContent=i.size(),e||l.a.log("Download",l.a.DOWNLOAD_REQUEST_SIZE_FAILED))}).catch(function(){o.classList.add("done"),o.textContent="(Error)",a.Utils.query("#media_"+i.id(),t._widget).setAttribute("disabled","disabled")})}},_applyCurrentValues:function(e){var t=e.querySelector(".j-quality-selector"),i=t.value;a.Utils.queryAll(".j-quality-option, .j-quality-download",e).forEach(function(e){e.hidden=e.dataset.quality!==i,u||e.hidden||!e.classList.contains("j-quality-download")||this._checkFileSize(e.dataset.id)},this),u&&this._getSizeOfVisibleMedia()},applyCurrentValues:function(e){var t=this._downloads,i=r.a.get("prefer_last_quality")&&r.a.get("preferred_quality:"+e),o=a.Utils.queryAll(".j-media-scope",this._widget);return o.forEach(function(o){var n=a.Utils.queryAll(".j-quality-download",o);if(n.length>1){var l=n.map(function(e){return e.dataset.id}),r=s.a.chooseBestDownload(t.getMediaGroup(l),e,i),_=a.Utils.query(".j-quality-selector",o);_&&(_.value=r.extQuality())}this._applyCurrentValues(o)},this),o},_getSizeOfVisibleMedia:function(){for(var e=a.Utils.query(".downloads-list",this._widget),t=e.scrollTop,i=e.offsetHeight,o=a.Utils.queryAll(".j-quality-download:not([hidden])",e),n=0,l=o.length;n<l;++n){var r=o[n];if(r.offsetTop>t+i+10)break;this._checkFileSize(r.dataset.id)}},getMetricsParams:function(e,t){var i=e instanceof Node?e.dataset.id:e,o=this._downloads,a=o.getMedia(i),n=t||{},l=o.getAllMediaFormats(i),r=[];for(var _ in l)r.push(_+":"+l[_].join("|"));var d=a.ext?a.ext():"unknown";return n.size=a.quality?s.a.getSizeByQuality(a.quality()):0,n.ext=d,n.same_size_exts=o.getSameQualityMediaFormats(i).join("|"),n.same_ext_sizes=o.getSameFormatMediaQuality(i).join("|"),n.total=r.join(","),n},download:function(e){if(!e.classList.contains("j-disabled"))return e.classList.add("j-disabled"),e.classList.add("btn-progress"),this._downloads.download(e.dataset.id).then(function(){e.classList.remove("btn-progress"),e.classList.add("btn-started")}).catch(function(t){e.classList.remove("btn-progress"),e.classList.remove("j-disabled")})}},t.a=o},18:function(e,t,i){"use strict";function o(e,t){function i(){for(var e=t.scrollTop,i=-1;i<a-1&&o[i+1].top<=e;)i++;return-1!==i&&(n!==i&&(-1!==n&&(o[n].node.style.position="static",o[n].placeholder.hidden=!0),o[i].node.style.position="fixed",o[i].placeholder.hidden=!1,n=i),i!==a-1&&e+o[i].height>o[i+1].top?(o[i].node.style.top=10-(e+o[i].height-o[i+1].top)+"px",o[i].node.classList.contains("pulled")||o[i].node.classList.add("pulled")):(o[i].node.style.top="10px",o[i].node.classList.contains("pulled")&&o[i].node.classList.remove("pulled")),!1)}var o=[],a=e.length,n=-1;a<1||(t.style.position="relative",o=e.map(function(e){var t=document.createElement("div");return t.style.height=e.offsetHeight+"px",t.hidden=!0,e.parentNode.insertBefore(t,e),{node:e,top:e.offsetTop,height:e.offsetHeight,placeholder:t}}),t.addEventListener("scroll",i,!1))}t.a=o},2:function(e,t,i){"use strict";var o=i(0),a=function(){};a.SERVER_LOG_URL="https://coccoc.com/s_log",a.SOURCE_POPUP_PAGE=0,a.SOURCE_OPTIONS_PAGE=10,a.SOURCE_CONTENT_SCRIPT=20,a.SOURCE_BACKGROUND_PAGE=30,a.prototype={LEGACY_METRICS_NAME_MAP:{ButtonClicked:"TryItNowButtonClicked",CheckBoxClicked:"OneClickCheckbox"},get source(){if(!chrome.extension.getBackgroundPage)return a.SOURCE_CONTENT_SCRIPT;switch(document.location.pathname){case"/popup.html":return a.SOURCE_POPUP_PAGE;case"/options.html":return a.SOURCE_OPTIONS_PAGE;case"/background.html":return a.SOURCE_BACKGROUND_PAGE;default:return}},_getFullName:function(e){return"Savior."+(this.LEGACY_METRICS_NAME_MAP[e]||e)},_getTotalValue:function(e,t,i){return 0===e.indexOf("Refr")||i||"PageShown"===e||"number"!=typeof t?t:t+this.source},_doLog:function(e,t,i){var o=this._getFullName(t);if(this.source===a.SOURCE_CONTENT_SCRIPT)chrome.runtime.sendMessage({requestType:"metrics",method:"log",params:{name:t,value:i}});else if(chrome.metricsPrivate)switch(e){case"recordSmallCount":chrome.metricsPrivate.recordValue({metricName:o,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:100,buckets:100},i);break;case"recordValue":chrome.metricsPrivate.recordValue({metricName:o,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:1e3,buckets:1002},i);break;case"recordSerpData":case"recordClickData":chrome.metricsPrivate[e](i)}},_getMethodByName:function(e){switch(e){case"Refr":case"RefrSE":case"RefrFE":return"recordValue";case"SerpData":return"recordSerpData";case"SerpClickData":return"recordClickData";default:return"recordSmallCount"}},log:function(e,t,i){var o=this._getMethodByName(e),a=this._getTotalValue(e,t,i);this._doLog(o,e,a)},logFromContentScript:function(e,t){this.log(e,t,!0)},serverLog:function(e,t){var i=new Image,n=[];t=Object.assign({action:e,source:this.source,version:o.SAVIOR_VERSION},t),Object.keys(t).reduce(function(e,i){return n.push(i+"="+encodeURIComponent(t[i])),n},n),i.src=a.SERVER_LOG_URL+"?"+n.join("&")},PAGE_WELCOME_SCREEN:0,PAGE_DOWNLOADS_LIST:1,PAGE_ONE_CLICK_DOWNLOAD:2,PAGE_NO_MEDIA_FOUND:3,PAGE_OPTIONS:4,PAGE_CONTENT_SHOW_CONTROLS:5,PAGE_CONTENT_NO_MEDIA:9,DOWNLOAD_AUTO:0,DOWNLOAD_BUTTON:1,DOWNLOAD_ALL:2,DOWNLOAD_REQUEST_SIZE:3,DOWNLOAD_REQUEST_SIZE_FAILED:4,DOWNLOAD_SOUND_ONLY:5,DOWNLOAD_CANCELED:7,DOWNLOAD_SUBTITLES:9,BUTTON_MAIN:0,BUTTON_TRY_IT_NOW:1,BUTTON_SHOW_DOWNLOADS:2,BUTTON_HIDE_DOWNLOADS:3,BUTTON_DOWNLOAD_ALL:4,BUTTON_CHECK_ALL:5,BUTTON_CHECK_NONE:6,BUTTON_FAKE_QUALITY:7,BUTTON_DETACH:8,BUTTON_HIDE:9,CHECK_BOX_ENABLE_ONE_CLICK:0,CHECK_BOX_SHOW_ON_PAGE_BUTTONS:2,CHECK_BOX_PREFER_LAST_QUALITY:4,CHECK_BOX_DETACH_ENABLED:6,PIP_DETACH_CLICK:0,PIP_RESTORE_CLICK:1,PIP_SITE_LINK_CLICK:2,PLAY_NOW_SHOWN:0,PLAY_NOW_WIDGET_CLICKED:1,PLAY_NOW_TOOLTIP_SHOWN:2,PLAY_NOW_TOOLTIP_CLOSED:3,PLAY_NOW_TOOLTIP_NOT_SHOW_AGAIN:4,PLAY_NOW_TOOLTIP_BOTTOM_SHOWN:5,PLAY_NOW_TOOLTIP_BOTTOM_CLOSED:6,PLAY_NOW_TOOLTIP_BOTTOM_NOT_SHOW_AGAIN:7},t.a=new a},3:function(e,t,i){"use strict";var o=function(){this._storage=chrome.storage.local,this._options={},this._default={detach_enabled:!0,on_page_buttons:!0,min_stream_size:30720,prefer_last_quality:!0,hide_play_now_tooltip:!1,hide_play_now_tooltip_bottom:!1};var e=this;chrome.storage.onChanged.addListener(function(t,i){if("local"===i)for(var o in t)e._options[o]=t[o].newValue})};o.prototype={load:function(){var e=this;return new Promise(function(t){e._storage.get(null,function(i){e._options=i,t(i)})})},set:function(e,t){var i={};("string"==typeof e||"number"==typeof e&&void 0!==t)&&(i[e]=t,this._options[e]=t,this._storage.set(i))},get:function(e){return e in this._options?this._options[e]:this._default[e]}},t.a=new o},41:function(e,t){}},[101]);